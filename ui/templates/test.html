<!DOCTYPE html>
{% load static %}
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>لوحة التحكم - ScheduleEase</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

    <style>
        /* استيراد خط Montserrat من Google Fonts */
        @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap");

        body {
            font-family: "Montserrat", sans-serif;
            background-color: #f0f2f5;
            /* لون خلفية أفتح قليلاً لإبراز البطاقات البيضاء */
            color: #333333;
            /* لون نص أساسي داكن للقراءة */
            overflow-x: hidden;
            /* لمنع شريط التمرير الأفقي */
        }

        /* لضمان أن المحتوى الرئيسي يتحرك عندما يكون الشريط الجانبي موجودًا */
        .main-content {
            margin-right: 256px;
            /* يزيح المحتوى إلى اليسار بمقدار عرض السايدبار */
            transition: margin-right 0.3s ease-in-out;
            /* إضافة انتقال سلس عند الطي/التوسيع */
            width: calc(100% - 256px);
            /* تحديد العرض لضمان عدم التداخل */
        }

        /* كلاس المحتوى الرئيسي عندما يكون الشريط الجانبي مطوياً */
        .main-content-collapsed {
            margin-right: 80px;
            /* يزيح المحتوى إلى اليسار بمقدار عرض السايدبار المطوي */
            width: calc(100% - 80px);
            /* تحديد العرض لضمان عدم التداخل */
        }

        /* لتحديد أن الشريط العلوي في منطقة المحتوى الرئيسية ثابت في الأعلى */
        .top-main-navbar {
            position: sticky;
            /* يجعله ثابتًا عند التمرير */
            top: 0;
            z-index: 10;
            /* يضمن ظهوره فوق المحتويات الأخرى عند التمرير */
            background-color: #ffffff;
            /* خلفية الشريط العلوي بيضاء */
            border-bottom: 1px solid #e8e8e8;
            /* حدود أنعم */
            border-radius: 0 0 16px 16px;
            /* حواف سفلية مستديرة أكثر */
            margin-right: 24px;
            /* مسافة أكبر من الشريط الجانبي */
            margin-left: 24px;
            padding: 18px 32px;
            /* مسافات داخلية أكثر اتساعًا */
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            /* ظل أقوى وأكثر نعومة */
            display: flex;
            /* لترتيب العناصر داخله */
            align-items: center;
            /* لتوسيط العناصر عموديًا */
            justify-content: space-between;
            /* لتوزيع العناصر */
            transform: translateY(16px);
            /* إزاحة قليلاً للأسفل لإعطاء تأثير عائم */
            opacity: 0.98;
            /* شفافية بسيطة لمظهر أنعم */
        }

        /* تأثير التمرير لبطاقات المعلومات */
        .info-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            background-color: #ffffff;
            /* خلفية البطاقات بيضاء */
            border-radius: 12px;
            /* حواف مستديرة للبطاقات */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
            /* ظل خفيف افتراضي */
            padding: 1.5rem;
            /* مسافة داخلية للبطاقات */
        }

        .info-card:hover {
            transform: translateY(-8px);
            /* إزاحة أكبر عند التمرير */
            box-shadow: 0 16px 25px rgba(0, 0, 0, 0.12);
            /* ظل أقوى عند التمرير */
        }

        /* ألوان البطاقات */
        .card-blue {
            color: #288cfa;
        }

        /* أزرق للبيانات الأساسية */
        .card-green {
            color: #2E865F;
        }

        /* أخضر للبيانات الإيجابية/النمو */
        .card-yellow {
            color: #d4ac0d;
        }

        /* أصفر للتحذيرات */
        .card-purple {
            color: #8e44ad;
        }

        /* بنفسجي للبيانات المتنوعة */
        .card-red {
            color: #e74c3c;
        }

        /* أحمر للتنبيهات/المشاكل */

        /* ألوان الأيقونات داخل البطاقات */
        .icon-blue {
            background-color: #e0f2fe;
            color: #288cfa;
        }

        .icon-green {
            background-color: #e8f5e9;
            color: #2E865F;
        }

        .icon-yellow {
            background-color: #fff8e1;
            color: #d4ac0d;
        }

        .icon-purple {
            background-color: #f3e5f5;
            color: #8e44ad;
        }

        .icon-red {
            background-color: #fde0e0;
            color: #e74c3c;
        }


        /* ألوان الروابط العامة */
        a {
            color: #3498db;
            /* أزرق موحد للروابط */
            transition: color 0.2s ease-in-out;
        }

        a:hover {
            color: #21618c;
            /* أزرق أغمق عند المرور */
        }

        /* لتعطيل التمرير عند إظهار الشريط الجانبي المتراكب (إذا تم تطبيق JavaScript لاحقًا) */
        .no-scroll {
            overflow: hidden;
        }

        /* التعديلات على شريط البحث ليطابق الصورة */
        .search-input {
            background-color: #eef2f6;
            /* لون خلفية أفتح قليلاً لشريط البحث */
            border-radius: 24px;
            /* حواف مستديرة جداً */
            padding: 0.6rem 1.2rem;
            /* مسافات داخلية أكبر */
            border: none;
            outline: none;
            width: 320px;
            /* عرض ثابت لشريط البحث */
            font-size: 0.95rem;
            /* حجم خط أكبر قليلاً */
            color: #4a4a4a;
            /* لون نص أغمق */
            text-align: right;
            /* لمحاذاة النص لليمين */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
            /* ظل داخلي خفيف */
        }

        .search-input::placeholder {
            color: #a0a0a0;
            /* لون placeholder أغمق قليلاً */
            text-align: right;
        }

        /* Sidebar collapse classes */
        .sidebar-collapsed {
            width: 80px !important;
            /* عرض أصغر للشريط الجانبي عند الطي, استخدام !important لتجاوز أي تعارض */
        }

        .sidebar-collapsed .logo-text,
        .sidebar-collapsed .nav-text,
        .sidebar-collapsed .logout-text {
            display: none !important;
            /* إخفاء النصوص عند الطي */
        }

        .sidebar-collapsed .sidebar-icon {
            margin-right: auto;
            /* توسيط الأيقونات */
            margin-left: auto;
        }

        .sidebar-collapsed .p-6 {
            padding: 1.5rem 0.5rem;
            /* تقليل المسافة الداخلية في وضع الطي */
        }

        .sidebar-collapsed .border-b,
        .sidebar-collapsed .border-t {
            border-color: transparent !important;
            /* إخفاء الحدود عند الطي لمظهر أنظف */
        }

        .sidebar-collapsed .size-8 {
            margin-left: auto;
            /* توسيط الشعار في الوضع المطوي */
            margin-right: auto;
        }

        .sidebar-collapsed .items-center {
            justify-content: center;
            /* توسيط العناصر في وضع الطي */
        }

        /* For select boxes */
        select {
            appearance: none;
            /* Remove default arrow */
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;utf8,<svg fill='%236B7280' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>");
            /* Custom arrow */
            background-repeat: no-repeat;
            background-position: left 0.75rem center;
            /* Position the arrow */
            background-size: 1.5em;
            /* Size of the arrow */
            padding-left: 2.5rem;
            /* Space for the arrow */
        }
    </style>
    {# <link rel="stylesheet" href="{% static '/dist/style.css' %}" /> #}

</head>

<body class="bg-gray-100 flex">

    <aside id="sidebar"
        class="fixed right-0 top-0 h-full w-64 bg-indigo-900 text-white p-6 shadow-lg flex flex-col z-20 transition-all duration-300 ease-in-out">
        <div class="flex items-center gap-4 border-b border-indigo-800 pb-4 mb-6">
            <div class="size-8 text-indigo-400">
                <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z" fill="currentColor"></path>
                </svg>
            </div>
            <h2 class="text-xl font-bold leading-tight tracking-[-0.015em] text-gray-100 logo-text">ScheduleEase</h2>
        </div>

        <nav class="flex-grow">
            <ul>
                <li class="mb-3">
                    <a href="#"
                        class="flex items-center p-3 rounded-md text-indigo-300 bg-indigo-800 hover:text-indigo-200 transition-colors duration-200">
                        <i class="fas fa-chart-line ml-3 sidebar-icon"></i>
                        <span class="nav-text">لوحة التحكم</span>
                    </a>
                </li>
                <li class="mb-3">
                    <a href="#"
                        class="flex items-center p-3 rounded-md text-gray-300 hover:bg-indigo-800 hover:text-indigo-200 transition-colors duration-200">
                        <i class="fas fa-chalkboard-teacher ml-3 sidebar-icon"></i>
                        <span class="nav-text">إدارة المدرسين</span>
                    </a>
                </li>
                <li class="mb-3">
                    <a href="#"
                        class="flex items-center p-3 rounded-md text-gray-300 hover:bg-indigo-800 hover:text-indigo-200 transition-colors duration-200">
                        <i class="fas fa-book-open ml-3 sidebar-icon"></i>
                        <span class="nav-text">إدارة المقررات</span>
                    </a>
                </li>
                <li class="mb-3">
                    <a href="#"
                        class="flex items-center p-3 rounded-md text-gray-300 hover:bg-indigo-800 hover:text-indigo-200 transition-colors duration-200">
                        <i class="fas fa-door-closed ml-3 sidebar-icon"></i>
                        <span class="nav-text">إدارة القاعات</span>
                    </a>
                </li>
                <li class="mb-3">
                    <a href="#"
                        class="flex items-center p-3 rounded-md text-gray-300 hover:bg-indigo-800 hover:text-indigo-200 transition-colors duration-200">
                        <i class="fas fa-layer-group ml-3 sidebar-icon"></i>
                        <span class="nav-text">إدارة المستويات</span>
                    </a>
                </li>
                <li class="mb-3">
                    <a href="#"
                        class="flex items-center p-3 rounded-md text-gray-300 hover:bg-indigo-800 hover:text-indigo-200 transition-colors duration-200">
                        <i class="fas fa-calendar-alt ml-3 sidebar-icon"></i>
                        <span class="nav-text">إعداد الجداول</span>
                    </a>
                </li>
                <li class="mb-3">
                    <a href="#"
                        class="flex items-center p-3 rounded-md text-gray-300 hover:bg-indigo-800 hover:text-indigo-200 transition-colors duration-200">
                        <i class="fas fa-calendar-check ml-3 sidebar-icon"></i>
                        <span class="nav-text">عرض الجداول</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="mt-auto pt-6 border-t border-indigo-800">
            <a href="login.html"
                class="flex items-center p-3 rounded-md text-gray-300 hover:bg-red-700 hover:text-white transition-colors duration-200">
                <i class="fas fa-sign-out-alt ml-3 sidebar-icon"></i>
                <span class="logout-text">تسجيل الخروج</span>
            </a>
        </div>
    </aside>

    <div id="mainContent" class="flex-grow main-content flex flex-col">
        <header class="top-main-navbar">
            <div class="flex items-center">
                <button id="toggleSidebarBtn"
                    class="p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 text-gray-600 ml-4">
                    <i class="fas fa-bars"></i>
                </button>

                <h1 class="text-2xl font-bold text-gray-800" id="pageTitle">لوحة التحكم</h1>
            </div>

            <div class="flex items-center gap-6">

                <a href="#"
                    class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full flex items-center shadow-md transition-colors duration-200">
                    <i class="fas fa-plus-circle ml-2"></i>
                    إنشاء جدول جديد
                </a>

                <div class="relative">
                    <input type="text" placeholder="ابحث عن طلاب/مدرسين/مقررات..."
                        class="search-input pr-10 pl-4 py-2" />
                    <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                </div>

                <div class="flex items-center gap-3">
                    <i
                        class="fas fa-bell text-xl text-gray-500 cursor-pointer hover:text-gray-700 transition-colors"></i>
                    <img src="https://via.placeholder.com/36x36/60A5FA/FFFFFF?text=AD" alt="صورة المستخدم"
                        class="h-9 w-9 rounded-full cursor-pointer border-2 border-indigo-400 p-[1px]">
                    <img src="https://via.placeholder.com/36x36/8B5CF6/FFFFFF?text=JD" alt="صورة المستخدم"
                        class="h-9 w-9 rounded-full cursor-pointer border-2 border-indigo-400 p-[1px]">
                </div>
            </div>
        </header>

        <main class="flex-1 p-8 overflow-y-auto mt-4">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">نظرة عامة على النظام</h2>

            {# لوحة التحكم - البطاقات الإحصائية الرئيسية #}
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="info-card flex flex-col items-start hover:shadow-lg">
                    <div class="p-3 rounded-full icon-blue mb-4">
                        <i class="fas fa-chalkboard-teacher fa-2x"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-700">إجمالي المدرسين</h3>
                    <p class="text-4xl font-bold card-blue mt-2">50</p>
                </div>

                <div class="info-card flex flex-col items-start hover:shadow-lg">
                    <div class="p-3 rounded-full icon-green mb-4">
                        <i class="fas fa-book-open fa-2x"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-700">إجمالي المقررات</h3>
                    <p class="text-4xl font-bold card-green mt-2">120</p>
                </div>

                <div class="info-card flex flex-col items-start hover:shadow-lg">
                    <div class="p-3 rounded-full icon-yellow mb-4">
                        <i class="fas fa-door-closed fa-2x"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-700">القاعات المتاحة (الآن)</h3>
                    <p class="text-4xl font-bold card-yellow mt-2">15 / 20</p>
                </div>

                <div class="info-card flex flex-col items-start hover:shadow-lg">
                    <div class="p-3 rounded-full icon-purple mb-4">
                        <i class="fas fa-calendar-check fa-2x"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-700">جداول نشطة (هذا الفصل)</h3>
                    <p class="text-4xl font-bold card-purple mt-2">5</p>
                </div>
            </div>

            {# قسم تنبيهات/مشاكل النظام #}
            <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-exclamation-triangle text-red-500 ml-2"></i>
                    تنبيهات ومشاكل النظام
                </h3>
                <ul class="space-y-3 text-gray-700 text-base">
                    <li class="flex items-start pb-2 border-b border-gray-200">
                        <i class="fas fa-times-circle text-red-600 ml-2 mt-1"></i>
                        <span>
                            <strong class="text-red-700">تعارض جدول:</strong> المقرر "مقدمة في علوم الحاسب" (المستوى 1)
                            والقاعة "القاعة 102"
                            متعارضان يوم الأحد 10:00 - 11:30 صباحاً.
                            <a href="#" class="text-blue-600 hover:underline mr-2">حل المشكلة</a>
                        </span>
                    </li>
                    <li class="flex items-start pb-2 border-b border-gray-200">
                        <i class="fas fa-exclamation-circle text-orange-500 ml-2 mt-1"></i>
                        <span>
                            <strong class="text-orange-600">قاعة غير available:</strong> "القاعة 205" تحتاج إلى صيانة،
                            غير
                            available من 2025-07-05 حتى 2025-07-10.
                            <a href="#" class="text-blue-600 hover:underline mr-2">عرض التفاصيل</a>
                        </span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-info-circle text-blue-500 ml-2 mt-1"></i>
                        <span>
                            <strong class="text-blue-600">مدرس غير مخصص:</strong> 3 مدرسين لم يتم تخصيص أي مقررات لهم
                            هذا الفصل.
                            <a href="#" class="text-blue-600 hover:underline mr-2">عرض المدرسين</a>
                        </span>
                    </li>
                </ul>
            </div>

            {# قسم الجدول الزمني الشامل للفصل الدراسي #}
            <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">الجدول الزمني للفصل الدراسي</h3>

                {# فلاتر البحث #}
                <div class="flex flex-wrap items-center gap-4 mb-6">
                    <div class="flex flex-col">
                        <label for="filter_course" class="text-sm font-medium text-gray-700 mb-1">المقرر:</label>
                        <select id="filter_course"
                            class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-right">
                            <option value="">كل المقررات</option>
                            <option value="مقدمة في علوم الحاسب">مقدمة في علوم الحاسب</option>
                            <option value="برمجة 101">برمجة 101</option>
                            <option value="رياضيات متقدمة">رياضيات متقدمة</option>
                            <option value="شبكات الحاسوب">شبكات الحاسوب</option>
                        </select>
                    </div>

                    <div class="flex flex-col">
                        <label for="filter_teacher" class="text-sm font-medium text-gray-700 mb-1">المدرس:</label>
                        <select id="filter_teacher"
                            class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-right">
                            <option value="">كل المدرسين</option>
                            <option value="أ. فاطمة سعيد">أ. فاطمة سعيد</option>
                            <option value="د. خالد منصور">د. خالد منصور</option>
                            <option value="أ. ليلى عبد الله">أ. ليلى عبد الله</option>
                        </select>
                    </div>

                    <div class="flex flex-col">
                        <label for="filter_room" class="text-sm font-medium text-gray-700 mb-1">القاعة:</label>
                        <select id="filter_room"
                            class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-right">
                            <option value="">كل القاعات</option>
                            <option value="القاعة 101">القاعة 101</option>
                            <option value="القاعة 102">القاعة 102</option>
                            <option value="القاعة 201">القاعة 201</option>
                            <option value="القاعة 203">القاعة 203</option>
                        </select>
                    </div>

                    <div class="flex flex-col">
                        <label for="filter_level" class="text-sm font-medium text-gray-700 mb-1">المستوى:</label>
                        <select id="filter_level"
                            class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-right">
                            <option value="">كل المستويات</option>
                            <option value="المستوى الأول">المستوى الأول</option>
                            <option value="المستوى الثاني">المستوى الثاني</option>
                            <option value="المستوى الثالث">المستوى الثالث</option>
                            <option value="المستوى الرابع">المستوى الرابع</option>
                        </select>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200" id="fullScheduleTable">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    المقرر
                                </th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    المستوى
                                </th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    المدرس
                                </th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    القاعة
                                </th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    اليوم
                                </th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    الوقت
                                </th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    الحالة
                                </th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    إجراء
                                </th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr data-course="مقدمة في علوم الحاسب" data-teacher="د. خالد منصور" data-room="القاعة 102"
                                data-level="المستوى الأول">
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">مقدمة في علوم الحاسب</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">المستوى الأول</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">د. خالد منصور</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">القاعة 102</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">الأحد</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10:00 ص - 11:30 ص</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                        active
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <a href="#" class="text-indigo-600 hover:text-indigo-900">عرض</a>
                                    <a href="#" class="text-blue-600 hover:text-blue-900 ml-2">تعديل</a>
                                </td>
                            </tr>
                            <tr data-course="برمجة 101" data-teacher="أ. فاطمة سعيد" data-room="القاعة 201"
                                data-level="المستوى الثاني">
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">برمجة 101</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">المستوى الثاني</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">أ. فاطمة سعيد</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">القاعة 201</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">الاثنين</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">09:00 ص - 10:30 ص</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                        active
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <a href="#" class="text-indigo-600 hover:text-indigo-900">عرض</a>
                                    <a href="#" class="text-blue-600 hover:text-blue-900 ml-2">تعديل</a>
                                </td>
                            </tr>
                            <tr data-course="رياضيات متقدمة" data-teacher="د. خالد منصور" data-room="القاعة 101"
                                data-level="المستوى الرابع">
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">رياضيات متقدمة</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">المستوى الرابع</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">د. خالد منصور</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">القاعة 101</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">الثلاثاء</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">11:00 ص - 12:30 م</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                        active
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <a href="#" class="text-indigo-600 hover:text-indigo-900">عرض</a>
                                    <a href="#" class="text-blue-600 hover:text-blue-900 ml-2">تعديل</a>
                                </td>
                            </tr>
                            <tr data-course="شبكات الحاسوب" data-teacher="أ. ليلى عبد الله" data-room="القاعة 203"
                                data-level="المستوى الثالث">
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">شبكات الحاسوب</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">المستوى الثالث</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">أ. ليلى عبد الله</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">القاعة 203</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">الأربعاء</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">13:00 م - 14:30 م</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                        active
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <a href="#" class="text-indigo-600 hover:text-indigo-900">عرض</a>
                                    <a href="#" class="text-blue-600 hover:text-blue-900 ml-2">تعديل</a>
                                </td>
                            </tr>
                            <tr data-course="مقدمة في علوم الحاسب" data-teacher="د. خالد منصور" data-room="القاعة 102"
                                data-level="المستوى الأول">
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">مقدمة في علوم الحاسب</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">المستوى الأول</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">د. خالد منصور</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">القاعة 102</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">الخميس</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10:00 ص - 11:30 ص</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                        active
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <a href="#" class="text-indigo-600 hover:text-indigo-900">عرض</a>
                                    <a href="#" class="text-blue-600 hover:text-blue-900 ml-2">تعديل</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            {# قسم القاعات حسب التوافر والمقررات حسب المستوى (يمكن نقلها أو إعادة ترتيبها حسب الأولوية) #}
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">القاعات حسب التوافر (ملخص)</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        القاعة
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        الحالة (الآن)
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        المشغولية (هذا الفصل)
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">القاعة 101
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                            available
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">60%</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">القاعة 102
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">
                                            مشغولة
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">85%</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">القاعة 201
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                            available
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">70%</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">القاعة 203
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">
                                            مشغولة
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">90%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">المقررات حسب المستويات</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        المستوى
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        عدد المقررات
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        جداول نشطة
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">المستوى
                                        الأول</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">30</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">المستوى
                                        الثاني</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">45</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">المستوى
                                        الثالث</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">25</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">المستوى
                                        الرابع</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">20</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


            {# قسم المدرسون الأكثر نشاطًا والأنشطة الأخيرة #}
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">المدرسون الأكثر نشاطًا</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        المدرس
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        عدد المقررات
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        ساعات التدريس (أسبوعيًا)
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">أ. فاطمة
                                        سعيد</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">5</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">25 ساعة</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">د. خالد
                                        منصور</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">22 ساعة</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">أ. ليلى
                                        عبد الله</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">18 ساعة</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">الأنشطة الأخيرة</h3>
                    <ul class="space-y-3 text-gray-700 text-sm">
                        <li class="flex justify-between items-center pb-2 border-b border-gray-200">
                            <span>تمت إضافة مدرس جديد: **أ. أحمد المحمد**</span>
                            <span class="text-gray-500 text-xs">منذ 10 دقائق</span>
                        </li>
                        <li class="flex justify-between items-center pb-2 border-b border-gray-200">
                            <span>تم تعديل المقرر: **برمجة 101**</span>
                            <span class="text-gray-500 text-xs">منذ ساعة</span>
                        </li>
                        <li class="flex justify-between items-center pb-2 border-b border-gray-200">
                            <span>تم إنشاء جدول للمستوى: **المستوى الثالث**</span>
                            <span class="text-gray-500 text-xs">أمس</span>
                        </li>
                        <li class="flex justify-between items-center">
                            <span>تم تحديث حالة القاعة: **القاعة 102** (مشغولة)</span>
                            <span class="text-gray-500 text-xs">منذ يومين</span>
                        </li>
                    </ul>
                </div>
            </div>

            {# قسم الروابط السريعة #}
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-bold text-gray-800 mb-4">روابط سريعة</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    <a href="#"
                        class="bg-blue-100 text-blue-700 hover:bg-blue-200 p-4 rounded-lg flex flex-col items-center justify-center transition-colors duration-200 text-center">
                        <i class="fas fa-plus-circle text-3xl mb-2"></i>
                        <span class="font-semibold">إضافة مقرر جديد</span>
                    </a>
                    <a href="#"
                        class="bg-blue-100 text-blue-700 hover:bg-blue-200 p-4 rounded-lg flex flex-col items-center justify-center transition-colors duration-200 text-center">
                        <i class="fas fa-user-plus text-3xl mb-2"></i>
                        <span class="font-semibold">إضافة مدرس جديد</span>
                    </a>
                    <a href="#"
                        class="bg-blue-100 text-blue-700 hover:bg-blue-200 p-4 rounded-lg flex flex-col items-center justify-center transition-colors duration-200 text-center">
                        <i class="fas fa-door-open text-3xl mb-2"></i>
                        <span class="font-semibold">إدارة القاعات</span>
                    </a>
                    <a href="#"
                        class="bg-blue-100 text-blue-700 hover:bg-blue-200 p-4 rounded-lg flex flex-col items-center justify-center transition-colors duration-200 text-center">
                        <i class="fas fa-file-alt text-3xl mb-2"></i>
                        <span class="font-semibold">تقارير النظام</span>
                    </a>
                </div>
            </div>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            const toggleSidebarBtn = document.getElementById('toggleSidebarBtn');
            const pageTitle = document.getElementById('pageTitle');
            const navLinks = document.querySelectorAll('aside nav a');

            // وظيفة لتحديث عنوان الصفحة
            function updatePageTitle(title) {
                pageTitle.textContent = title;
            }

            // تعيين الرابط النشط عند التحميل الأولي (افتراضًا "لوحة التحكم")
            navLinks.forEach(link => {
                if (link.querySelector('span').textContent === 'لوحة التحكم') {
                    link.classList.add('text-indigo-300', 'bg-indigo-800');
                    link.classList.remove('text-gray-300');
                    updatePageTitle(link.querySelector('span').textContent);
                } else {
                    link.classList.remove('text-indigo-300', 'bg-indigo-800');
                    link.classList.add('text-gray-300');
                }

                link.addEventListener('click', function (e) {
                    e.preventDefault(); // منع الانتقال الفعلي للصفحة لتجربة الواجهة

                    // إزالة الحالة النشطة من جميع الروابط
                    navLinks.forEach(item => {
                        item.classList.remove('text-indigo-300', 'bg-indigo-800');
                        item.classList.add('text-gray-300');
                    });

                    // إضافة الحالة النشطة للرابط الذي تم النقر عليه
                    this.classList.add('text-indigo-300', 'bg-indigo-800');
                    this.classList.remove('text-gray-300');

                    // تحديث عنوان الصفحة
                    updatePageTitle(this.querySelector('span').textContent);
                });
            });

            // إضافة المستمع لزر الطي/التوسيع
            if (toggleSidebarBtn) {
                toggleSidebarBtn.addEventListener('click', () => {
                    sidebar.classList.toggle('sidebar-collapsed');
                    mainContent.classList.toggle('main-content-collapsed'); // تبديل الكلاس الجديد
                });
            }

            // --- فلترة الجدول الشامل (الجزء الجديد) ---
            const filterCourse = document.getElementById('filter_course');
            const filterTeacher = document.getElementById('filter_teacher');
            const filterRoom = document.getElementById('filter_room');
            const filterLevel = document.getElementById('filter_level');
            const fullScheduleTableBody = document.querySelector('#fullScheduleTable tbody');
            const allRows = Array.from(fullScheduleTableBody.querySelectorAll('tr'));

            function applyFilters() {
                const selectedCourse = filterCourse.value;
                const selectedTeacher = filterTeacher.value;
                const selectedRoom = filterRoom.value;
                const selectedLevel = filterLevel.value;

                allRows.forEach(row => {
                    const course = row.dataset.course;
                    const teacher = row.dataset.teacher;
                    const room = row.dataset.room;
                    const level = row.dataset.level;

                    const matchesCourse = selectedCourse === "" || course === selectedCourse;
                    const matchesTeacher = selectedTeacher === "" || teacher === selectedTeacher;
                    const matchesRoom = selectedRoom === "" || room === selectedRoom;
                    const matchesLevel = selectedLevel === "" || level === selectedLevel;

                    if (matchesCourse && matchesTeacher && matchesRoom && matchesLevel) {
                        row.style.display = ''; // Show row
                    } else {
                        row.style.display = 'none'; // Hide row
                    }
                });
            }

            // Add event listeners to filters
            filterCourse.addEventListener('change', applyFilters);
            filterTeacher.addEventListener('change', applyFilters);
            filterRoom.addEventListener('change', applyFilters);
            filterLevel.addEventListener('change', applyFilters);

            // Initial filter application in case default values are set
            applyFilters();
        });
    </script>
</body>

</html>